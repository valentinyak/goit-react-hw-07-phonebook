(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{27:function(t,n,e){t.exports={deletBtn:"ContactItem_deletBtn__37rpo"}},42:function(t,n,e){},70:function(t,n,e){},71:function(t,n,e){"use strict";e.r(n);var c,r,a,u=e(1),o=e(0),i=e.n(o),s=e(9),b=e.n(s),j=e(6),f=(e(42),e(5)),l=e(3),O=e(2),d=e(28),p=Object(l.b)("contacts/fetchContactsRequest"),h=Object(l.b)("contacts/fetchContactsSuccess"),v=Object(l.b)("contacts/fetchContactsError"),x=Object(l.b)("contacts/addContactsRequest"),m=Object(l.b)("contacts/addContactsSuccess"),C=Object(l.b)("contacts/addContactsError"),y=Object(l.b)("contacts/deleteContactsRequest"),g=Object(l.b)("contacts/deleteContactsSuccess"),k=Object(l.b)("contacts/deleteContactsError"),w=Object(l.b)("filter/changeFilter"),I=Object(l.c)("",Object(O.a)({},w,(function(t,n){return n.payload}))),E=Object(l.c)([],(c={},Object(O.a)(c,h,(function(t,n){return n.payload})),Object(O.a)(c,m,(function(t,n){return[].concat(Object(d.a)(t),[n.payload])})),Object(O.a)(c,g,(function(t,n){var e=n.payload;return t.filter((function(t){return t.id!==e.id}))})),c)),B=Object(l.c)(!1,(r={},Object(O.a)(r,p,(function(){return!0})),Object(O.a)(r,h,(function(){return!1})),Object(O.a)(r,v,(function(){return!1})),Object(O.a)(r,x,(function(){return!0})),Object(O.a)(r,m,(function(){return!1})),Object(O.a)(r,C,(function(){return!1})),Object(O.a)(r,y,(function(){return!0})),Object(O.a)(r,g,(function(){return!1})),Object(O.a)(r,k,(function(){return!1})),r)),S=Object(l.c)(null,(a={},Object(O.a)(a,v,(function(t,n){return n.payload})),Object(O.a)(a,p,(function(){return null})),Object(O.a)(a,h,(function(){return null})),Object(O.a)(a,C,(function(t,n){return n.payload})),Object(O.a)(a,x,(function(){return null})),Object(O.a)(a,m,(function(){return null})),Object(O.a)(a,k,(function(t,n){return n.payload})),Object(O.a)(a,y,(function(){return null})),Object(O.a)(a,g,(function(){return null})),a)),q=Object(f.c)({items:E,isLoading:B,error:S,filter:I}),D=Object(f.c)({contacts:q}),L=Object(l.a)({reducer:D}),R=e(26),_=e.n(R),F=e(7),J=e.n(F),A=e(11),M=e(12),N=e.n(M),P="http://localhost:3004/contacts",T=function(t){N.a.post(P,t)},z=function(t){N.a.delete("".concat(P,"/").concat(t.id))},G=e(10),H=function(t){return t.contacts.items},K=Object(G.a)([H,function(t,n){return n}],(function(t,n){return t.find((function(t){return t.id===n}))}));e(70);var Q=Object(j.b)(null,(function(t){return{addContact:function(n){return t(function(t){return function(){var n=Object(A.a)(J.a.mark((function n(e){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(x());try{T(t),e(m(t))}catch(c){e(C(c))}case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(n))}}}))((function(t){var n=t.addContact,e=Object(j.d)((function(t){return t}));return Object(u.jsxs)("form",{children:[Object(u.jsxs)("label",{children:["Insert contact name",Object(u.jsx)("input",{type:"text",name:"nameInput"})]}),Object(u.jsxs)("label",{children:["Insert contact number",Object(u.jsx)("input",{type:"text",name:"phoneInput"})]}),Object(u.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault();var c=t.target.form,r=c.nameInput,a=c.phoneInput;H(e).find((function(t){return t.name===r.value}))?alert("".concat(r.value," is already in contacts")):(n({id:_.a.generate(),name:r.value,number:a.value}),r.value="",a.value="")},children:"Add contact"})]})})),U=e(27),V=e.n(U);function W(t){var n=t.contact,e=t.onClick,c=n.name,r=n.number,a=n.id;return Object(u.jsxs)("span",{children:[c,": ",r," ",Object(u.jsx)("button",{className:V.a.deletBtn,id:a,onClick:e,children:"delete"})]})}var X=function(t){return t.contacts.filter},Y=Object(G.a)([H,X],(function(t,n){return t.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))}));var Z=Object(j.b)((function(t){return{contacts:Y(t)}}),(function(t){return{onDelete:function(n){return t(function(t){return function(){var n=Object(A.a)(J.a.mark((function n(e){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(y());try{z(t),e(g(t))}catch(c){e(k(c))}case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(n))}}}))((function(t){var n=t.contacts,e=t.onDelete,c=Object(j.c)(),r=Object(j.d)((function(t){return t})),a=function(t){var n=K(r,t.target.id);e(n)};return Object(o.useEffect)((function(){return c(function(){var t=Object(A.a)(J.a.mark((function t(n){var e;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(p()),t.prev=1,t.next=4,N.a.get(P).then((function(t){return t.data}));case 4:e=t.sent,n(h(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(v(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(n){return t.apply(this,arguments)}}())}),[c]),Object(u.jsx)("ul",{children:n.map((function(t){return Object(u.jsx)("li",{children:Object(u.jsx)(W,{contact:t,onClick:a})},t.id)}))})}));var $=Object(j.b)((function(t){return{value:X(t)}}),(function(t){return{onChange:function(n){return t(w(n.currentTarget.value))}}}))((function(t){var n=t.value,e=t.onChange;return Object(u.jsxs)("label",{children:["Find contact by name",Object(u.jsx)("input",{type:"text",name:"filterInput",onChange:e,value:n})]})}));function tt(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Phonebook"}),Object(u.jsx)(Q,{}),Object(u.jsx)("h2",{children:"Contacts"}),Object(u.jsx)($,{}),Object(u.jsx)(Z,{})]})}b.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(j.a,{store:L,children:Object(u.jsx)(tt,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.55837f78.chunk.js.map